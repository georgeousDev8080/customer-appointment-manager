<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#21808D">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Appointment Manager">
    <meta name="description" content="Customer and Appointment Management Progressive Web App">
    
    <title>Appointment Manager</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQXBwb2ludG1lbnQgTWFuYWdlciBQV0EiLCJzaG9ydF9uYW1lIjoiQXBwb2ludG1lbnRNZ3IiLCJkZXNjcmlwdGlvbiI6IkN1c3RvbWVyIGFuZCBBcHBvaW50bWVudCBNYW5hZ2VtZW50IFByb2dyZXNzaXZlIFdlYiBBcHAiLCJzdGFydF91cmwiOiIvIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiI2ZmZmZmZiIsInRoZW1lX2NvbG9yIjoiIzIxODA4RCIsIm9yaWVudGF0aW9uIjoicG9ydHJhaXQiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sLDxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTkyJyBoZWlnaHQ9JzE5Micgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjMyMTk2RjMnPjxwYXRoIGQ9J00xOSAzaC0xVjFoLTJ2Mkg4VjFINnYySDVjLTEuMTEgMC0xLjk5LjktMS45OSAyTDMgMTljMCAxLjEuODkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnptMCAxNkg1VjhoMTR2MTF6TTcgMTBoNXY1SDd6Jy8+PC9zdmc+Iiwic2l6ZXMiOiIxOTJ4MTkyIiwidHlwZSI6ImltYWdlL3N2Zyt4bWwifSx7InNyYyI6ImRhdGE6aW1hZ2Uvc3ZnK3htbCw8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzUxMicgaGVpZ2h0PSc1MTInIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzMjE5NkYzJz48cGF0aCBkPSdNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eicvPjwvc3ZnPiIsInNpemVzIjoiNTEyeDUxMiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">
    
    <!-- iPhone-specific meta tags -->
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='%2321808D'><path d='M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z'/></svg>">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-title" data-i18n="appTitle">Appointment Manager</h1>
            <div class="header-actions">
                <button class="btn btn--secondary btn--sm theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main" id="mainContent">
            <!-- Dashboard View -->
            <div class="view dashboard-view active" id="dashboardView">
                <div class="view-header">
                    <h2 data-i18n="dashboard">Dashboard</h2>
                </div>
                <div class="dashboard-content">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="todayCount">0</div>
                            <div class="stat-label" data-i18n="todayAppointments">Today's Appointments</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="upcomingCount">0</div>
                            <div class="stat-label" data-i18n="upcomingAppointments">Upcoming Appointments</div>
                        </div>
                    </div>
                    <div class="today-appointments" id="todayAppointments">
                        <!-- Today's appointments will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Customers View -->
            <div class="view customers-view" id="customersView">
                <div class="view-header">
                    <h2 data-i18n="customers">Customers</h2>
                    <button class="btn btn--primary btn--sm" id="addCustomerBtn">
                        <span data-i18n="addCustomer">Add Customer</span>
                    </button>
                </div>
                <div class="search-container">
                    <input type="text" class="form-control search-input" id="customerSearch" data-i18n-placeholder="search" placeholder="Search">
                </div>
                <div class="customers-list" id="customersList">
                    <!-- Customers will be populated here -->
                </div>
            </div>

            <!-- Appointments View -->
            <div class="view appointments-view" id="appointmentsView">
                <div class="view-header">
                    <h2 data-i18n="appointments">Appointments</h2>
                    <button class="btn btn--primary btn--sm" id="addAppointmentBtn">
                        <span data-i18n="addAppointment">Add Appointment</span>
                    </button>
                </div>
                <div class="appointments-list" id="appointmentsList">
                    <!-- Appointments will be populated here -->
                </div>
            </div>

            <!-- Settings View -->
            <div class="view settings-view" id="settingsView">
                <div class="view-header">
                    <h2 data-i18n="settings">Settings</h2>
                </div>
                <div class="settings-content">
                    <div class="setting-group">
                        <label class="form-label" data-i18n="language">Language</label>
                        <select class="form-control" id="languageSelect">
                            <option value="en">English</option>
                            <option value="el">ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label class="form-label" data-i18n="theme">Theme</label>
                        <select class="form-control" id="themeSelect">
                            <option value="light" data-i18n="light">Light</option>
                            <option value="dark" data-i18n="dark">Dark</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label class="form-label" data-i18n="notifications">Notifications</label>
                        <button class="btn btn--outline" id="notificationToggle">
                            <span data-i18n="disabled">Disabled</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-view="dashboard">
                <span class="nav-icon">üìä</span>
                <span class="nav-label" data-i18n="dashboard">Dashboard</span>
            </button>
            <button class="nav-item" data-view="customers">
                <span class="nav-icon">üë•</span>
                <span class="nav-label" data-i18n="customers">Customers</span>
            </button>
            <button class="nav-item" data-view="appointments">
                <span class="nav-icon">üìÖ</span>
                <span class="nav-label" data-i18n="appointments">Appointments</span>
            </button>
            <button class="nav-item" data-view="settings">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label" data-i18n="settings">Settings</span>
            </button>
        </nav>
    </div>

    <!-- Modals -->
    <!-- Customer Modal -->
    <div class="modal" id="customerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="customerModalTitle" data-i18n="addCustomer">Add Customer</h3>
                <button class="modal-close" id="closeCustomerModal">&times;</button>
            </div>
            <form class="modal-body" id="customerForm">
                <div class="form-group">
                    <label class="form-label" data-i18n="customerName">Customer Name</label>
                    <input type="text" class="form-control" id="customerName" required>
                </div>
                <div class="form-group">
                    <label class="form-label" data-i18n="phoneNumber">Phone Number</label>
                    <input type="tel" class="form-control" id="customerPhone" required>
                </div>
                <div class="form-group">
                    <label class="form-label" data-i18n="notes">Notes</label>
                    <textarea class="form-control" id="customerNotes" rows="3"></textarea>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn btn--secondary" id="cancelCustomer" data-i18n="cancel">Cancel</button>
                <button type="submit" class="btn btn--primary" id="saveCustomer" data-i18n="save">Save</button>
            </div>
        </div>
    </div>

    <!-- Appointment Modal -->
    <div class="modal" id="appointmentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="appointmentModalTitle" data-i18n="addAppointment">Add Appointment</h3>
                <button class="modal-close" id="closeAppointmentModal">&times;</button>
            </div>
            <form class="modal-body" id="appointmentForm">
                <div class="form-group">
                    <label class="form-label" data-i18n="customers">Customer</label>
                    <select class="form-control" id="appointmentCustomer" required>
                        <option value="">Select a customer...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" data-i18n="service">Service</label>
                    <input type="text" class="form-control" id="appointmentService" required>
                </div>
                <div class="form-group">
                    <label class="form-label" data-i18n="dateTime">Date & Time</label>
                    <input type="datetime-local" class="form-control" id="appointmentDateTime" required>
                </div>
                <div class="form-group">
                    <label class="form-label" data-i18n="notes">Notes</label>
                    <textarea class="form-control" id="appointmentNotes" rows="3"></textarea>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn btn--secondary" id="cancelAppointment" data-i18n="cancel">Cancel</button>
                <button type="submit" class="btn btn--primary" id="saveAppointment" data-i18n="save">Save</button>
            </div>
        </div>
    </div>

    <!-- Notification Permission Toast -->
    <div class="toast" id="notificationToast">
        <div class="toast-content">
            <span class="toast-message">Notifications enabled successfully!</span>
        </div>
    </div>

    <!-- PWA Install Prompt -->
    <div class="install-prompt hidden" id="installPrompt">
        <div class="install-content">
            <span class="install-text">Install this app on your device for the best experience</span>
            <button class="btn btn--primary btn--sm" id="installBtn">Install</button>
            <button class="install-close" id="dismissInstall">&times;</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>